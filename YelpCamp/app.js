var express = require("express");
app = express();
bodyParser = require("body-parser");
mongoose = require("mongoose");

mongoose.connect('mongodb://localhost:27017/yelp_camp', { useNewUrlParser: true });
app.use(bodyParser.urlencoded({ extended: true }));
app.set("view engine", "ejs");

//Schema Setup
var campgroundSchema = new mongoose.Schema({
    name: String,
    image: String
});

var Campground = mongoose.model("Campground", campgroundSchema);

/* Campground.create({
    name: "Yosemite",
    image: "data:image/jpeg;base64,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"
}, (err, campground) => {
    if (err) {
        console.log(err);
    } else {
        console.log("Newly created campground: ");
        console.log(campground);
    }
}); */


app.get("/", (req, res) => {
    res.render("landing");
});

app.get("/campgrounds", (req, res) => {
    Campground.find({}, (err, allCampgrounds) => {
        if (err) {
            console.log(err);
        } else {
            res.render("campgrounds", { campgrounds: allCampgrounds })
        }
    });
});


app.post("/campgrounds", (req, res) => {
    // get data from form and add to campground array
    var name = req.body.name;
    var image = req.body.image;
    var newCampground = { name: name, image: image };
    //create a new campground and save to DB
    Campground.create(newCampground, (err, newlyCreated) => {
        if (err) {
            console.log(err);
        } else {
            res.redirect("campgrounds");
        }
    });
});

app.get("/campgrounds/new", (req, res) => {
    res.render("new");
});

app.listen(3000, () => {
    console.log("server started!");
});
